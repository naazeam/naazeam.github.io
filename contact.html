<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Schedule a Call | Naazeam Art</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css" rel="stylesheet">

<style>
/* …… (all the CSS is identical to the previous answer except for a few small tweaks) …… */
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Outfit',sans-serif;padding:20px;background:#fff;color:#444;overflow-x:hidden}
/* — NAVBAR (unchanged) — */
.navbar{position:fixed;top:0;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:12px 24px;z-index:999;background:transparent;transition:transform .4s ease,opacity .4s ease,box-shadow .3s ease}
.navbar.hidden{opacity:0;transform:translateY(-100%)}.navbar.scrolled{box-shadow:0 4px 12px rgba(0,0,0,.1);background:#fff}
.navbar .logo{font-weight:700;font-size:18px;color:#000;text-decoration:none}
.menu{display:flex;gap:20px;align-items:center}.menu a{text-decoration:none;color:#000;font-size:14px;font-weight:600;transition:transform .3s ease,color .3s ease}.menu a:hover{transform:scale(1.1);color:#e60023}
.more-wrapper{position:relative}
/* dropdown (unchanged) */
.dropdown{display:none;position:absolute;top:28px;right:0;background:#fff;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);padding:10px;flex-direction:column;gap:8px;min-width:150px;z-index:998;opacity:0;transform:scale(.95);transition:opacity .3s ease,transform .3s ease}
.dropdown.show{display:flex;opacity:1;transform:scale(1)}.dropdown a{opacity:0;transform:translateY(10px);color:#000;padding:6px 12px;font-size:14px;border-radius:8px;text-decoration:none;transition:opacity .4s ease,transform .4s ease,color .3s ease,background .3s ease}
.dropdown.show a{opacity:1;transform:translateY(0)}.dropdown a:hover{color:#e60023;background:#f8f8f8;transform:scale(1.05)}
.dropdown.show a:nth-child(1){transition-delay:.1s}.dropdown.show a:nth-child(2){transition-delay:.2s}.dropdown.show a:nth-child(3){transition-delay:.3s}

/* — BOOKING BOX — */
h1{text-align:center;color:#e60023;font-size:28px;margin:100px 0 20px}
.container{max-width:1200px;margin:0 auto 40px;border:2px solid #e60023;border-radius:16px;padding:20px;display:flex;flex-wrap:wrap;gap:40px}
.left,.right{flex:1 1 300px}.left{max-width:400px}.right{max-width:700px}
.left h2{font-size:22px;color:#000;margin-bottom:12px}.left p{font-size:14px;line-height:1.5;margin-bottom:20px}

.input-line{margin-bottom:16px}
.input-line label{display:block;font-size:13px;font-weight:600;margin-bottom:4px;color:#000}
.text-input{width:100%;padding:12px;border:1px solid #e60023;border-radius:50px;font-size:14px;outline:none}
.text-input.invalid{border-color:red}

.book-btn{display:inline-block;padding:12px 32px;background:#e60023;color:#fff;border:none;border-radius:50px;font-size:16px;cursor:pointer;transition:transform .3s ease,box-shadow .3s ease}
.book-btn:hover{background:#c4001c;transform:scale(1.05)}

#calendar{background:#fff;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);padding:8px}
.fc .fc-button{background:#e60023;border:none;border-radius:6px;font-size:12px;padding:4px 8px}.fc .fc-button:hover{background:#c4001c}
.fc .fc-toolbar-title{font-size:16px;color:#000}.fc .fc-day-today{background:#fff5f7!important}

.time-slots{text-align:center;margin-top:20px}.time-slots h3{color:#e60023;margin-bottom:10px}
.slot{display:inline-block;margin:5px;padding:6px 14px;border:1px solid #e60023;border-radius:20px;cursor:pointer;font-size:12px;transition:.2s}
.slot:hover,.slot.selected{background:#e60023;color:#fff;transform:scale(1.05)}

@media(max-width:768px){.container{flex-direction:column;gap:20px}.left,.right{max-width:100%}}

/* — MODAL — */
.modal{position:fixed;top:0;left:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.4);z-index:999}
.modal-content{background:#fff;padding:30px;border-radius:16px;text-align:center;max-width:400px;animation:fadeIn .3s ease}
.modal-content h2{color:#e60023;margin-bottom:20px}.modal-content p{font-size:14px;margin-bottom:20px}
.ok-btn{background:#e60023;color:#fff;padding:10px 24px;font-size:15px;border:none;border-radius:24px;cursor:pointer;animation:pulse 1.2s infinite}.ok-btn:hover{background:#c4001c}
@keyframes fadeIn{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
</style>
</head>

<body>

<!-- Hidden fallback form for Formspree -->
<form id="fallbackForm" action="https://formspree.io/f/xdkzjdol" method="POST" style="display:none;">
  <input type="hidden" name="email"    id="fbEmail">
  <input type="hidden" name="phone"    id="fbPhone">
  <input type="hidden" name="message"  id="fbMsg">
  <input type="hidden" name="date"     id="fbDate">
  <input type="hidden" name="slot"     id="fbSlot">
</form>

<!-- ─────────────── NAVBAR ─────────────── -->
<nav class="navbar" id="navbar">
  <a href="/" class="logo">Naazeam Art</a>
  <div class="menu">
    <a href="/">Home</a>
    <div class="more-wrapper">
      <a href="javascript:void(0);" id="moreBtn">More</a>
      <div class="dropdown" id="dropdown">
        <a href="/about-us.html">About&nbsp;Us</a>
        <a href="/portfolio.html">Portfolio</a>
        <a href="/contact.html">Book&nbsp;Call</a>
        <a href="https://wa.me/919096972905" target="_blank">Whatsapp</a>
      </div>
    </div>
  </div>
</nav>

<h1>Schedule a Call</h1>

<div class="container">
  <div class="left">
    <h2>Let’s talk!</h2>
    <p>Please pick an available <strong>Tuesday&nbsp;–&nbsp;Thursday</strong> and a time between
       <strong>11&nbsp;AM&nbsp;–&nbsp;5&nbsp;PM IST</strong>.</p>
    <p>We look forward to connecting and discussing your project!</p>

    <div class="input-line">
      <label for="email">Your e-mail *</label>
      <input class="text-input" id="email" type="email" placeholder="you@example.com" required>
    </div>

    <div class="input-line">
      <label for="phone">Phone / WhatsApp&nbsp;(optional)</label>
      <input class="text-input" id="phone" type="tel" placeholder="+91-98765-43210">
    </div>

    <div class="input-line">
      <label for="message">Message</label>
      <input type="text" id="message" class="text-input"
             placeholder="Type your message…" value="I’d like to discuss my project.">
    </div>
  </div>

  <div class="right">
    <div id="calendar"></div>

    <div class="time-slots" id="time-slots" style="display:none;">
      <h3>Available Time Slots</h3>
      <div id="slots"></div>
    </div>

    <div style="text-align:center;margin-top:20px;">
      <button class="book-btn" id="bookBtn">Book Now</button>
    </div>
  </div>
</div>

<!-- Acknowledgement modal -->
<div class="modal" id="ackModal">
  <div class="modal-content">
    <h2>Booking Confirmed</h2>
    <p id="ackText"></p>
    <button class="ok-btn" id="okBtn">OK</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>

<script>
/* ───── elements & constants ───── */
const emailEl  = document.getElementById('email');
const phoneEl  = document.getElementById('phone');
const msgEl    = document.getElementById('message');
const bookBtn  = document.getElementById('bookBtn');
const slotsEl  = document.getElementById('slots');
const slotsBox = document.getElementById('time-slots');
const modal    = document.getElementById('ackModal');
const ackText  = document.getElementById('ackText');
const okBtn    = document.getElementById('okBtn');

const hostEmail = "contact@naazeam.art";

let selectedDate=null, selectedSlot=null;

/* ───── build time-slot chips ───── */
function makeSlots(){
  slotsBox.style.display='block';
  slotsEl.innerHTML=''; selectedSlot=null;

  for(let h=11;h<=17;h++){
    const chip=document.createElement('div');
    chip.className='slot';
    chip.textContent=`${h}:00 IST`;
    chip.onclick=()=>{
      document.querySelectorAll('.slot').forEach(c=>c.classList.remove('selected'));
      chip.classList.add('selected'); selectedSlot=chip.textContent;
    };
    slotsEl.appendChild(chip);
  }
}

/* ───── calendar ───── */
document.addEventListener('DOMContentLoaded',()=>{
  const cal=new FullCalendar.Calendar(document.getElementById('calendar'),{
    initialView:'dayGridMonth',
    selectable:true,
    height:'auto',

    dateClick: i=> cal.select(i.dateStr),

    select(info){
      if(![2,3,4].includes(new Date(info.startStr).getDay())){
        alert('⚠️ Choose Tue–Thu only'); return;
      }
      selectedDate=info.startStr; makeSlots();
    },

    validRange:{start:new Date().toISOString().split('T')[0]}
  });
  cal.render();

  /* pre-select next Tue/Wed/Thu */
  const today=new Date();
  for(let i=0;i<30;i++){
    const d=new Date(); d.setDate(today.getDate()+i);
    if([2,3,4].includes(d.getDay())){
      const ds=d.toISOString().split('T')[0];
      cal.select(ds); selectedDate=ds; makeSlots(); break;
    }
  }
});

/* ───── click BOOK NOW ───── */
bookBtn.onclick=()=>{
  /* email mandatory & simple pattern */
  const email=emailEl.value.trim();
  const emailOK=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  if(!emailOK){ emailEl.classList.add('invalid'); alert('⚠️ Enter a valid e-mail'); return; }
  emailEl.classList.remove('invalid');

  if(!selectedDate||!selectedSlot){alert('⚠️ Pick date & time');return;}

  /* show modal */
  ackText.innerHTML=
    `Your call is booked on <strong>${selectedDate}</strong> at <strong>${selectedSlot}</strong>.<br>`+
    `We’ve sent details to ${email}.`;
  modal.style.display='flex';
};

/* ───── OK in modal ───── */
okBtn.onclick=()=>{
  modal.style.display='none';

  /* 1️⃣ send to Formspree */
  fbEmail.value   = emailEl.value.trim();
  fbPhone.value   = phoneEl.value.trim();
  fbMsg.value     = msgEl.value.trim();
  fbDate.value    = selectedDate;
  fbSlot.value    = selectedSlot;
  fallbackForm.submit();

  /* 2️⃣ open Google-Calendar, host & visitor pre-filled */
  const start=new Date(`${selectedDate}T${selectedSlot.slice(0,2)}:00:00+05:30`);
  const end  =new Date(start.getTime()+30*60*1000);
  const ISO  =d=>d.toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';

  const params=new URLSearchParams({
    action:'TEMPLATE',
    text:'Call with Naazeam Art',
    dates:`${ISO(start)}/${ISO(end)}`,
    details:msgEl.value.trim() || '–',
    add:`${hostEmail},${emailEl.value.trim()}`,
    sf:'true', output:'xml'
  });
  window.open('https://calendar.google.com/calendar/render?'+params.toString(),'_blank');
};

/* ───── navbar show/hide ───── */
let lastY=window.scrollY, hideT;
const nav=document.getElementById('navbar');
function reveal(){nav.classList.remove('hidden');clearTimeout(hideT);hideT=setTimeout(()=>nav.classList.add('hidden'),5000)}
window.addEventListener('scroll',()=>{
  const y=window.scrollY;
  y>lastY ? nav.classList.add('hidden') : (nav.classList.add('scrolled'),reveal());
  lastY=y;
});

/* ───── dropdown ───── */
const moreBtn=document.getElementById('moreBtn');
const dropdown=document.getElementById('dropdown');
let dropT;
moreBtn.onmouseenter=()=>{clearTimeout(dropT);dropdown.classList.add('show')};
moreBtn.onmouseleave=()=>{dropT=setTimeout(()=>dropdown.classList.remove('show'),1000)};
dropdown.onmouseenter=()=>clearTimeout(dropT);
dropdown.onmouseleave=()=>{dropT=setTimeout(()=>dropdown.classList.remove('show'),1000)};
</script>
</body>
</html>
